{"remainingRequest":"/Users/howie/Documents/nlp_web/node_modules/babel-loader/lib/index.js!/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/howie/Documents/nlp_web/src/components/Headers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/howie/Documents/nlp_web/src/components/Headers.vue","mtime":1586331073346},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/babel-loader/lib/index.js","mtime":1571922477277},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js","mtime":1582429582421},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/babel-loader/lib/index.js","mtime":1571922477277},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js","mtime":1582429582421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBqd3REZWNvZGUgZnJvbSAnand0LWRlY29kZSc7CmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7CmltcG9ydCBLZXljbG9hayBmcm9tICdrZXljbG9hay1qcyc7CmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpL2FwaSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWFkZXJzIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGhlbWUxOiAnbGlnaHQnLAogICAgICBhY3RpdmVOYW1lOiAnL3BhcnRzQW5hbHlzaXMnLAogICAgICB1c2VyTmFtZTogJycsCiAgICAgIG5hdkxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJvdXRlclVybDogZnVuY3Rpb24gcm91dGVyVXJsKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uTG9Hb3V0OiBmdW5jdGlvbiBvbkxvR291dCh2YWwpIHsKICAgICAgdmFyIHJlZnJlc2hUb2tlbiA9IENvb2tpZXMuZ2V0KCdyZWZyZXNoVG9rZW4nKTsgLy8g6I635Y+W55So5oi355m75b2VdG9rZW4KCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdjbGllbnRfaWQnLCB0aGlzLiRzdG9yZS5zdGF0ZS5jbGllbnRJZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZ3JhbnRfdHlwZScsICdyZWZyZXNoX3Rva2VuJyk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncmVmcmVzaF90b2tlbicsIHJlZnJlc2hUb2tlbik7CgogICAgICBpZiAodmFsID09ICdsb2dvdXQnKSB7CiAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnaHR0cDovL3UueGxtZWRpYXdhdGNoLmNvbS9hdXRoL3JlYWxtcy94bHBsYXRmb3JtL3Byb3RvY29sL29wZW5pZC1jb25uZWN0L2xvZ291dCcsIGZvcm1EYXRhLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge30pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgey8vIOivt+axguWksei0peWkhOeQhgogICAgICAgIH0pOwogICAgICAgIENvb2tpZXMucmVtb3ZlKCd0b2tlbicpOwogICAgICAgIENvb2tpZXMucmVtb3ZlKCdyb3V0ZXJVcmwnKTsKICAgICAgICBDb29raWVzLnJlbW92ZSgncmVmcmVzaFRva2VuJyk7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogIi9sb2dpbiIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uU2VsZWN0Q2xpY2s6IGZ1bmN0aW9uIG9uU2VsZWN0Q2xpY2socmVjb3JkLCBpbmRleCkgewogICAgICB0aGlzLmFjdGl2ZU5hbWUgPSByZWNvcmQucGF0aDsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvdXRlclVybCcsIHRoaXMuYWN0aXZlTmFtZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiByZWNvcmQucGF0aAogICAgICB9KTsKICAgIH0sCiAgICBMb2FkRGF0YTogZnVuY3Rpb24gTG9hZERhdGEoKSB7CiAgICAgIHZhciB0b2tlbiA9IENvb2tpZXMuZ2V0KCd0b2tlbicpOwoKICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgdmFyIGRlY29kZSA9IGp3dERlY29kZSh0b2tlbik7CiAgICAgICAgY29uc29sZS5sb2coZGVjb2RlKTsKICAgICAgICB2YXIgaXNTaG93ID0gZmFsc2U7CgogICAgICAgIGlmIChkZWNvZGUucmVzb3VyY2VfYWNjZXNzLm5scF93ZWIpIHsKICAgICAgICAgIGlzU2hvdyA9IGRlY29kZS5yZXNvdXJjZV9hY2Nlc3MubmxwX3dlYi5yb2xlc1swXSA9PSAnZGV2ZWxvcCcgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgbmF2TGlzdCA9IFt7CiAgICAgICAgICBuYW1lOiAnTkxQ5paH5pys5YiG5p6QJywKICAgICAgICAgIHBhdGg6ICcvcGFydHNBbmFseXNpcycsCiAgICAgICAgICBpc1Nob3c6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAnTkxQ5paH5pys5YiG5p6Q5rWL6K+VJywKICAgICAgICAgIHBhdGg6ICcvcGFydHNBbmFseXNpc1Rlc3QnLAogICAgICAgICAgaXNTaG93OiBpc1Nob3cKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAnQUnlm77lg4/or4bliKsnLAogICAgICAgICAgcGF0aDogJy9hSVJlY29nbml0aW9uJywKICAgICAgICAgIGlzU2hvdzogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICfoh6rliqjmuIXmtJcnLAogICAgICAgICAgcGF0aDogJy9jbGVhbmluZycsCiAgICAgICAgICBpc1Nob3c6IHRydWUKICAgICAgICB9XTsKICAgICAgICB0aGlzLm5hdkxpc3QgPSBuYXZMaXN0OwogICAgICAgIHRoaXMudXNlck5hbWUgPSBkZWNvZGUubmFtZTsKCiAgICAgICAgaWYgKENvb2tpZXMuZ2V0KCdyb3V0ZXJVcmwnKSkgewogICAgICAgICAgdGhpcy5hY3RpdmVOYW1lID0gQ29va2llcy5nZXQoJ3JvdXRlclVybCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBDb29raWVzLnNldCgncm91dGVyVXJsJywgdGhpcy5hY3RpdmVOYW1lKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogIi9wYXJ0c0FuYWx5c2lzIgogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5Mb2FkRGF0YSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7fQp9Ow=="},{"version":3,"sources":["Headers.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"headersCon\">\n        <div class=\"headers\">\n            <div class=\"wrapper rows\">\n                <div class=\"cols\">\n                    <div class=\"rows\" style=\"align-items: center\">\n                        <div class=\"Headers_title\">新联中文语义演示平台</div>\n                        <div v-for=\"(item, i) in navList\" class=\"navItem\" :key=\"i\" :class=\"activeName == item.path ? 'active' : ''\" @click=\"onSelectClick(item)\" v-show=\"item.isShow\">{{item.name}}</div>\n                    </div>\n\n                </div>\n                <Dropdown @on-click=\"onLoGout\">\n                    <a href=\"javascript:void(0)\" style=\"height: 80px;line-height: 80px\">\n                        <Icon type=\"md-person\" style=\"color: #12D4C9;font-weight: bold;font-size: 20px;margin-right: 5px\"/>\n                        <span style=\"color: #fff;font-weight: bold;font-size: 16px;\">{{userName}}</span>\n                        <Icon type=\"ios-arrow-down\" style=\"margin-left: 5px;color: #fff;\"></Icon>\n                    </a>\n                    <DropdownMenu slot=\"list\">\n                        <DropdownItem name=\"logout\">退出</DropdownItem>\n                    </DropdownMenu>\n                </Dropdown>\n            </div>\n        </div>\n        <div style=\"height: calc(100% - 80px)\">\n            <router-view/>\n        </div>\n    </div>\n\n</template>\n\n<script>\n    import jwtDecode from 'jwt-decode'\n    import Cookies from 'js-cookie'\n    import Keycloak from 'keycloak-js'\n    import api from '../api/api'\n    import router from '../router/index'\n    export default {\n        name: \"Headers\",\n        data() {\n            return {\n                theme1: 'light',\n                activeName: '/partsAnalysis',\n                userName: '',\n                navList: []\n            };\n        },\n        computed: {\n            routerUrl () {\n                return this.$route.path\n            }\n        },\n        methods: {\n            onLoGout (val) {\n                let refreshToken = Cookies.get('refreshToken') // 获取用户登录token\n                let formData =  new URLSearchParams();\n                formData.append('client_id', this.$store.state.clientId);\n                formData.append('grant_type', 'refresh_token');\n                formData.append('refresh_token', refreshToken);\n                if (val == 'logout') {\n                    this.$axios.post('http://u.xlmediawatch.com/auth/realms/xlplatform/protocol/openid-connect/logout',formData,\n                        {headers: {'Content-Type': 'application/x-www-form-urlencoded'}}).then( function(res) {\n                    }).catch(function (error) { // 请求失败处理\n                    });\n                    Cookies.remove('token');\n                    Cookies.remove('routerUrl');\n                    Cookies.remove('refreshToken');\n                    router.push({ path: \"/login\" });\n                }\n            },\n            onSelectClick(record, index) {\n                this.activeName = record.path\n                localStorage.setItem('routerUrl', this.activeName)\n                this.$router.push({\n                    path: record.path\n                })\n            },\n            LoadData () {\n                let token = Cookies.get('token')\n                if (token) {\n                    const decode = jwtDecode(token)\n                    console.log(decode)\n                    let isShow = false\n                    if (decode.resource_access.nlp_web) {\n                        isShow = decode.resource_access.nlp_web.roles[0] == 'develop' ? true : false\n                    }\n                    let navList = [\n                        {name: 'NLP文本分析', path: '/partsAnalysis', isShow: true},\n                        {name: 'NLP文本分析测试', path: '/partsAnalysisTest', isShow: isShow},\n                        {name: 'AI图像识别', path: '/aIRecognition', isShow: true },\n                        {name: '自动清洗', path: '/cleaning', isShow: true},\n                    ]\n                    this.navList = navList\n                    this.userName = decode.name\n                    if (Cookies.get('routerUrl')) {\n                        this.activeName =  Cookies.get('routerUrl');\n                    } else {\n                        Cookies.set('routerUrl', this.activeName)\n                    }\n                } else {\n                    this.$router.push({ path: \"/partsAnalysis\" });\n                }\n\n            }\n        },\n        created() {\n            this.LoadData()\n        },\n\n        mounted() {\n        },\n        updated() {\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .headersCon{\n        /*background-color: #f5f5f5;*/\n        .divider{\n            margin: 0px;\n        }\n    }\n    .headers {\n        background-color: #061840;\n\n        .ivu-menu, .ivu-menu-item {\n            font-size: 16px;\n        }\n\n        .ivu-menu-light {\n            background-color: #fff;\n        }\n\n        .ivu-menu-horizontal {\n            height: 80px;\n            line-height: 80px;\n        }\n\n        .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item-active, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item:hover, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu-active, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu:hover {\n            color: #12d4c9;\n        }\n\n        .wrapper {\n            height: 80px;\n            align-items: center;\n            .navItem{\n                background-color: #D8D8D8;\n                font-weight: bold;\n                padding: 15px 20px;\n                border-radius: 2px;\n                font-size: 16px;\n                margin: 0 15px;\n                cursor: pointer;\n                color: #323232;\n            }\n            .active{\n                background-color: #12d4c9;\n                color: #fff;\n            }\n            .navItem:hover{\n                background-color: #12d4c9;\n                color: #fff;\n            }\n            .Headers_title {\n                margin-right: 20px;\n                font-weight: 700;\n                font-size: 20px;\n                color: #ffffff;\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/components"}]}