{"remainingRequest":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/howie/Documents/nlp_web/src/views/ObjectLevel.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/howie/Documents/nlp_web/src/views/ObjectLevel.vue","mtime":1582429519251},{"path":"/Users/howie/Documents/nlp_web/node_modules/css-loader/dist/cjs.js","mtime":1582429582288},{"path":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1582429582421},{"path":"/Users/howie/Documents/nlp_web/node_modules/postcss-loader/src/index.js","mtime":1564153364000},{"path":"/Users/howie/Documents/nlp_web/node_modules/sass-loader/dist/cjs.js","mtime":1571922493338},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js","mtime":1582429582421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kZW1vLXNwaW4taWNvbi1sb2FkewogICAgYW5pbWF0aW9uOiBhbmktZGVtby1zcGluIDFzIGxpbmVhciBpbmZpbml0ZTsKfQpAa2V5ZnJhbWVzIGFuaS1kZW1vLXNwaW4gewogICAgZnJvbSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO30KICAgIDUwJSAgeyB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO30KICAgIHRvICAgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO30KfQouZGVtby1zcGluLWNvbHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7Cn0KLm9iamVjdExldmVsIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7CiAgICBtaW4taGVpZ2h0OiA2MDBweDsKICAgIHBhZGRpbmc6IDIwcHg7CgogICAgLktleXdvcmRFbHNlIHsKICAgICAgICBtaW4taGVpZ2h0OiA2MDBweDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICB9CgogICAgLkNhcmQgewogICAgICAgIC5LZXl3b3JkRWNoYXJ0cyB7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDYwMHB4OwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["ObjectLevel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ObjectLevel.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"PartsAnalysis objectLevel\">\n        <Card dis-hover class=\"Card\">\n            <p slot=\"title\">对象层面</p>\n            <div ref=\"KeywordId\" class=\"KeywordEcharts\">\n            </div>\n            <Spin fix v-show=\"isList\">\n                <Icon type=\"ios-loading\" size=18 class=\"demo-spin-icon-load\"></Icon>\n                <div>Loading</div>\n            </Spin>\n        </Card>\n    </div>\n</template>\n\n<script>\n  import api from \"../api/api\";\n\n  export default {\n    name: \"ObjectLevel\",\n    props: ['formData'],\n    data() {\n      return {\n        data: [],\n        links: [],\n        isList: true,\n        isShow: true,\n        categories: [],\n      };\n    },\n    computed: {},\n    methods: {\n      initEchart() {\n        let KeywordId = this.$refs.KeywordId;\n        if (!KeywordId) {\n          return false\n        }\n        const myChart = this.$echarts.init(KeywordId);\n        let option = {\n          title: {\n            text: '',\n            subtext: '',\n            x: 'right',\n            y: 'bottom'\n          },\n          tooltip: {\n            show: false,\n          },\n          toolbox: {\n            show: true,\n            feature: {\n              restore: {show: true},\n              magicType: {show: true,},\n              saveAsImage: {show: true}\n            }\n          },\n          legend: {\n            x: 'left',\n            data: ['父节点', '子节点']\n          },\n          series: [{\n            type: 'graph',\n            layout: 'force',\n            legendHoverLink: true,\n            focusNodeAdjacency: true,\n            force: {\n              repulsion: 500\n            },\n            categories: [\n              {\n                name: '父节点'\n              },\n              {\n                name: '子节点'\n              }\n            ],\n            itemStyle: {\n              normal: {\n                borderColor: '#fff',\n                borderWidth: 1,\n                shadowBlur: 10,\n                shadowColor: 'rgba(0, 0, 0, 0.3)'\n              }\n            },\n            label : {\n              show : true,\n            },\n            lineStyle: {\n              color: 'source',\n              curveness: 0.3\n            },\n            emphasis: {\n              lineStyle: {\n                width: 5\n              }\n            },\n            roam : true,\n            data : this.data,\n            links : this.links,\n          }]\n        };\n        myChart.setOption(option, true);\n      },\n      async LoadData(record) {\n        try {\n          this.data = []\n          this.links = []\n          let formData = new FormData();\n          formData.append('title', record.title);\n          formData.append('content', record.content);\n          let result = await api.objectLevelList(formData)\n          console.log(result)\n          if (result.code === 200) {\n            if (result.data.length > 0) {\n              result.data.map((v, i) => {\n                this.data.push({\n                  name: v.name,\n                  value: 0,\n                  category: 0,\n                })\n                if (v.words.length > 0) {\n                  v.words.map((item, j) => {\n                    this.data.push({\n                      name: item.word,\n                      value: item.score,\n                      category: 1,\n                    })\n                  })\n                }\n              })\n              result.data.map((v, i) => {\n                if (v.words.length > 0) {\n                  v.words.map((item, j) => {\n                    this.links.push({\n                      source: item.word,\n                      target: v.name,\n                    })\n                  })\n\n                }\n              })\n              this.isList = false\n              this.data.forEach((node) => {\n                console.log(node.value)\n                if (node.category === 0) {\n                  node.symbolSize = 50;\n                } else {\n                  node.symbolSize = 60  / 1.5 + node.value;\n                  node.label = {\n                    normal: {\n                      show: node.symbolSize > 30\n                    }\n                  };\n\n                }\n                node.itemStyle = null;\n                node.category = node.category;\n              });\n\n              console.log('data', this.data)\n              console.log('links', this.links)\n            }\n            this.$nextTick(() => {\n              this.initEchart()\n            })\n          }\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    },\n    created() {\n      if (this.formData.title && this.formData.content) {\n        this.LoadData(this.formData)\n      }\n    },\n\n    mounted() {\n    },\n    updated() {\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n    .demo-spin-icon-load{\n        animation: ani-demo-spin 1s linear infinite;\n    }\n    @keyframes ani-demo-spin {\n        from { transform: rotate(0deg);}\n        50%  { transform: rotate(180deg);}\n        to   { transform: rotate(360deg);}\n    }\n    .demo-spin-col{\n        position: relative;\n        border: 1px solid #eee;\n    }\n    .objectLevel {\n        background-color: #f6f6f6;\n        min-height: 600px;\n        padding: 20px;\n\n        .KeywordElse {\n            min-height: 600px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .Card {\n            .KeywordEcharts {\n                min-height: 600px;\n            }\n        }\n    }\n</style>\n\n"]}]}