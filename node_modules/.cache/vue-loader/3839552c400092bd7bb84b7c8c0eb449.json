{"remainingRequest":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/howie/Documents/nlp_web/src/components/Headers.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/howie/Documents/nlp_web/src/components/Headers.vue","mtime":1587551055802},{"path":"/Users/howie/Documents/nlp_web/node_modules/css-loader/dist/cjs.js","mtime":1582429582288},{"path":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1582429582421},{"path":"/Users/howie/Documents/nlp_web/node_modules/postcss-loader/src/index.js","mtime":1564153364000},{"path":"/Users/howie/Documents/nlp_web/node_modules/sass-loader/dist/cjs.js","mtime":1571922493338},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js","mtime":1582429582421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaGVhZGVyc0NvbnsKICAgIC8qYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsqLwogICAgLmRpdmlkZXJ7CiAgICAgICAgbWFyZ2luOiAwcHg7CiAgICB9Cn0KLmhlYWRlcnMgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzA2MTg0MDsKCiAgICAuaXZ1LW1lbnUsIC5pdnUtbWVudS1pdGVtIHsKICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICB9CgogICAgLml2dS1tZW51LWxpZ2h0IHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgfQoKICAgIC5pdnUtbWVudS1ob3Jpem9udGFsIHsKICAgICAgICBoZWlnaHQ6IDgwcHg7CiAgICAgICAgbGluZS1oZWlnaHQ6IDgwcHg7CiAgICB9CgogICAgLml2dS1tZW51LWxpZ2h0Lml2dS1tZW51LWhvcml6b250YWwgLml2dS1tZW51LWl0ZW0tYWN0aXZlLCAuaXZ1LW1lbnUtbGlnaHQuaXZ1LW1lbnUtaG9yaXpvbnRhbCAuaXZ1LW1lbnUtaXRlbTpob3ZlciwgLml2dS1tZW51LWxpZ2h0Lml2dS1tZW51LWhvcml6b250YWwgLml2dS1tZW51LXN1Ym1lbnUtYWN0aXZlLCAuaXZ1LW1lbnUtbGlnaHQuaXZ1LW1lbnUtaG9yaXpvbnRhbCAuaXZ1LW1lbnUtc3VibWVudTpob3ZlciB7CiAgICAgICAgY29sb3I6ICMxMmQ0Yzk7CiAgICB9CgogICAgLndyYXBwZXIgewogICAgICAgIGhlaWdodDogODBweDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIC5uYXZJdGVtewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDhEOEQ4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgbWFyZ2luOiAwIDE1cHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgY29sb3I6ICMzMjMyMzI7CiAgICAgICAgfQogICAgICAgIC5hY3RpdmV7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxMmQ0Yzk7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgIH0KICAgICAgICAubmF2SXRlbTpob3ZlcnsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzEyZDRjOTsKICAgICAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgfQogICAgICAgIC5IZWFkZXJzX3RpdGxlIHsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Headers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Headers.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"headersCon\">\n        <div class=\"headers\">\n            <div class=\"wrapper rows\">\n                <div class=\"cols\">\n                    <div class=\"rows\" style=\"align-items: center\">\n                        <div class=\"Headers_title\">新联中文语义演示平台</div>\n                        <div v-for=\"(item, i) in navList\" class=\"navItem\" :key=\"i\" :class=\"activeName == item.path ? 'active' : ''\" @click=\"onSelectClick(item)\" v-show=\"item.isShow\">{{item.name}}</div>\n                    </div>\n\n                </div>\n                <Dropdown @on-click=\"onLoGout\">\n                    <a href=\"javascript:void(0)\" style=\"height: 80px;line-height: 80px\">\n                        <Icon type=\"md-person\" style=\"color: #12D4C9;font-weight: bold;font-size: 20px;margin-right: 5px\"/>\n                        <span style=\"color: #fff;font-weight: bold;font-size: 16px;\">{{userName}}</span>\n                        <Icon type=\"ios-arrow-down\" style=\"margin-left: 5px;color: #fff;\"></Icon>\n                    </a>\n                    <DropdownMenu slot=\"list\">\n                        <DropdownItem name=\"logout\">退出</DropdownItem>\n                    </DropdownMenu>\n                </Dropdown>\n            </div>\n        </div>\n        <div style=\"height: calc(100% - 80px)\">\n            <router-view/>\n        </div>\n    </div>\n\n</template>\n\n<script>\n    import jwtDecode from 'jwt-decode'\n    import Cookies from 'js-cookie'\n    import Keycloak from 'keycloak-js'\n    import api from '../api/api'\n    import router from '../router/index'\n    export default {\n        name: \"Headers\",\n        data() {\n            return {\n                theme1: 'light',\n                activeName: '/partsAnalysis',\n                userName: '',\n                navList: []\n            };\n        },\n        computed: {\n            routerUrl () {\n                return this.$route.path\n            }\n        },\n        methods: {\n            onLoGout (val) {\n                let refreshToken = Cookies.get('refreshToken') // 获取用户登录token\n                let formData =  new URLSearchParams();\n                formData.append('client_id', this.$store.state.clientId);\n                formData.append('grant_type', 'refresh_token');\n                formData.append('refresh_token', refreshToken);\n                if (val == 'logout') {\n                    this.$axios.post('http://u.xlmediawatch.com/auth/realms/xlplatform/protocol/openid-connect/logout',formData,\n                        {headers: {'Content-Type': 'application/x-www-form-urlencoded'}}).then( function(res) {\n                    }).catch(function (error) { // 请求失败处理\n                    });\n                    Cookies.remove('token');\n                    Cookies.remove('routerUrl');\n                    Cookies.remove('refreshToken');\n                    router.push({ path: \"/login\" });\n                }\n            },\n            onSelectClick(record, index) {\n                this.activeName = record.path\n                localStorage.setItem('routerUrl', this.activeName)\n                this.$router.push({\n                    path: record.path\n                })\n            },\n            LoadData () {\n                let token = Cookies.get('token')\n                if (token) {\n                    const decode = jwtDecode(token)\n                    console.log(decode)\n                    let isShow = false\n                    if (decode.resource_access.nlp_web) {\n                        isShow = decode.resource_access.nlp_web.roles[0] == 'develop' ? true : false\n                    }\n                    let navList = [\n                        {name: 'NLP文本分析', path: '/partsAnalysis', isShow: true},\n                        {name: 'NLP文本分析测试', path: '/partsAnalysisTest', isShow: isShow},\n                        {name: 'AI图像识别', path: '/aIRecognition', isShow: true },\n                        {name: '自动清洗', path: '/cleaning', isShow: true},\n                    ]\n                    this.navList = navList\n                    this.userName = decode.name\n                    if (Cookies.get('routerUrl')) {\n                        this.activeName =  Cookies.get('routerUrl');\n                    } else {\n                        Cookies.set('routerUrl', this.activeName)\n                    }\n                } else {\n                    this.$router.push({ path: \"/partsAnalysis\" });\n                }\n\n            }\n        },\n        created() {\n            this.LoadData()\n        },\n\n        mounted() {\n        },\n        updated() {\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .headersCon{\n        /*background-color: #f5f5f5;*/\n        .divider{\n            margin: 0px;\n        }\n    }\n    .headers {\n        background-color: #061840;\n\n        .ivu-menu, .ivu-menu-item {\n            font-size: 16px;\n        }\n\n        .ivu-menu-light {\n            background-color: #fff;\n        }\n\n        .ivu-menu-horizontal {\n            height: 80px;\n            line-height: 80px;\n        }\n\n        .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item-active, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item:hover, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu-active, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu:hover {\n            color: #12d4c9;\n        }\n\n        .wrapper {\n            height: 80px;\n            align-items: center;\n            .navItem{\n                background-color: #D8D8D8;\n                font-weight: bold;\n                padding: 15px 20px;\n                border-radius: 2px;\n                font-size: 16px;\n                margin: 0 15px;\n                cursor: pointer;\n                color: #323232;\n            }\n            .active{\n                background-color: #12d4c9;\n                color: #fff;\n            }\n            .navItem:hover{\n                background-color: #12d4c9;\n                color: #fff;\n            }\n            .Headers_title {\n                margin-right: 20px;\n                font-weight: 700;\n                font-size: 20px;\n                color: #ffffff;\n            }\n        }\n    }\n</style>\n"]}]}