{"remainingRequest":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/howie/Documents/nlp_web/src/components/Headers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/howie/Documents/nlp_web/src/components/Headers.vue","mtime":1587551055802},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/babel-loader/lib/index.js","mtime":1571922477277},{"path":"/Users/howie/Documents/nlp_web/node_modules/cache-loader/dist/cjs.js","mtime":1571922489860},{"path":"/Users/howie/Documents/nlp_web/node_modules/vue-loader/lib/index.js","mtime":1582429582421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBqd3REZWNvZGUgZnJvbSAnand0LWRlY29kZScKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJwppbXBvcnQgS2V5Y2xvYWsgZnJvbSAna2V5Y2xvYWstanMnCmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpL2FwaScKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJIZWFkZXJzIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGhlbWUxOiAnbGlnaHQnLAogICAgICAgICAgICBhY3RpdmVOYW1lOiAnL3BhcnRzQW5hbHlzaXMnLAogICAgICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgICAgIG5hdkxpc3Q6IFtdCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHJvdXRlclVybCAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXRoCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkxvR291dCAodmFsKSB7CiAgICAgICAgICAgIGxldCByZWZyZXNoVG9rZW4gPSBDb29raWVzLmdldCgncmVmcmVzaFRva2VuJykgLy8g6I635Y+W55So5oi355m75b2VdG9rZW4KICAgICAgICAgICAgbGV0IGZvcm1EYXRhID0gIG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjbGllbnRfaWQnLCB0aGlzLiRzdG9yZS5zdGF0ZS5jbGllbnRJZCk7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZ3JhbnRfdHlwZScsICdyZWZyZXNoX3Rva2VuJyk7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncmVmcmVzaF90b2tlbicsIHJlZnJlc2hUb2tlbik7CiAgICAgICAgICAgIGlmICh2YWwgPT0gJ2xvZ291dCcpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJ2h0dHA6Ly91LnhsbWVkaWF3YXRjaC5jb20vYXV0aC9yZWFsbXMveGxwbGF0Zm9ybS9wcm90b2NvbC9vcGVuaWQtY29ubmVjdC9sb2dvdXQnLGZvcm1EYXRhLAogICAgICAgICAgICAgICAgICAgIHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pLnRoZW4oIGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IC8vIOivt+axguWksei0peWkhOeQhgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBDb29raWVzLnJlbW92ZSgndG9rZW4nKTsKICAgICAgICAgICAgICAgIENvb2tpZXMucmVtb3ZlKCdyb3V0ZXJVcmwnKTsKICAgICAgICAgICAgICAgIENvb2tpZXMucmVtb3ZlKCdyZWZyZXNoVG9rZW4nKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsgcGF0aDogIi9sb2dpbiIgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uU2VsZWN0Q2xpY2socmVjb3JkLCBpbmRleCkgewogICAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSByZWNvcmQucGF0aAogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm91dGVyVXJsJywgdGhpcy5hY3RpdmVOYW1lKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOiByZWNvcmQucGF0aAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgTG9hZERhdGEgKCkgewogICAgICAgICAgICBsZXQgdG9rZW4gPSBDb29raWVzLmdldCgndG9rZW4nKQogICAgICAgICAgICBpZiAodG9rZW4pIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZSA9IGp3dERlY29kZSh0b2tlbikKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRlY29kZSkKICAgICAgICAgICAgICAgIGxldCBpc1Nob3cgPSBmYWxzZQogICAgICAgICAgICAgICAgaWYgKGRlY29kZS5yZXNvdXJjZV9hY2Nlc3MubmxwX3dlYikgewogICAgICAgICAgICAgICAgICAgIGlzU2hvdyA9IGRlY29kZS5yZXNvdXJjZV9hY2Nlc3MubmxwX3dlYi5yb2xlc1swXSA9PSAnZGV2ZWxvcCcgPyB0cnVlIDogZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBuYXZMaXN0ID0gWwogICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnTkxQ5paH5pys5YiG5p6QJywgcGF0aDogJy9wYXJ0c0FuYWx5c2lzJywgaXNTaG93OiB0cnVlfSwKICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ05MUOaWh+acrOWIhuaekOa1i+ivlScsIHBhdGg6ICcvcGFydHNBbmFseXNpc1Rlc3QnLCBpc1Nob3c6IGlzU2hvd30sCiAgICAgICAgICAgICAgICAgICAge25hbWU6ICdBSeWbvuWDj+ivhuWIqycsIHBhdGg6ICcvYUlSZWNvZ25pdGlvbicsIGlzU2hvdzogdHJ1ZSB9LAogICAgICAgICAgICAgICAgICAgIHtuYW1lOiAn6Ieq5Yqo5riF5rSXJywgcGF0aDogJy9jbGVhbmluZycsIGlzU2hvdzogdHJ1ZX0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB0aGlzLm5hdkxpc3QgPSBuYXZMaXN0CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJOYW1lID0gZGVjb2RlLm5hbWUKICAgICAgICAgICAgICAgIGlmIChDb29raWVzLmdldCgncm91dGVyVXJsJykpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSAgQ29va2llcy5nZXQoJ3JvdXRlclVybCcpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBDb29raWVzLnNldCgncm91dGVyVXJsJywgdGhpcy5hY3RpdmVOYW1lKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3BhcnRzQW5hbHlzaXMiIH0pOwogICAgICAgICAgICB9CgogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuTG9hZERhdGEoKQogICAgfSwKCiAgICBtb3VudGVkKCkgewogICAgfSwKICAgIHVwZGF0ZWQoKSB7CiAgICB9Cn0K"},{"version":3,"sources":["Headers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Headers.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"headersCon\">\n        <div class=\"headers\">\n            <div class=\"wrapper rows\">\n                <div class=\"cols\">\n                    <div class=\"rows\" style=\"align-items: center\">\n                        <div class=\"Headers_title\">新联中文语义演示平台</div>\n                        <div v-for=\"(item, i) in navList\" class=\"navItem\" :key=\"i\" :class=\"activeName == item.path ? 'active' : ''\" @click=\"onSelectClick(item)\" v-show=\"item.isShow\">{{item.name}}</div>\n                    </div>\n\n                </div>\n                <Dropdown @on-click=\"onLoGout\">\n                    <a href=\"javascript:void(0)\" style=\"height: 80px;line-height: 80px\">\n                        <Icon type=\"md-person\" style=\"color: #12D4C9;font-weight: bold;font-size: 20px;margin-right: 5px\"/>\n                        <span style=\"color: #fff;font-weight: bold;font-size: 16px;\">{{userName}}</span>\n                        <Icon type=\"ios-arrow-down\" style=\"margin-left: 5px;color: #fff;\"></Icon>\n                    </a>\n                    <DropdownMenu slot=\"list\">\n                        <DropdownItem name=\"logout\">退出</DropdownItem>\n                    </DropdownMenu>\n                </Dropdown>\n            </div>\n        </div>\n        <div style=\"height: calc(100% - 80px)\">\n            <router-view/>\n        </div>\n    </div>\n\n</template>\n\n<script>\n    import jwtDecode from 'jwt-decode'\n    import Cookies from 'js-cookie'\n    import Keycloak from 'keycloak-js'\n    import api from '../api/api'\n    import router from '../router/index'\n    export default {\n        name: \"Headers\",\n        data() {\n            return {\n                theme1: 'light',\n                activeName: '/partsAnalysis',\n                userName: '',\n                navList: []\n            };\n        },\n        computed: {\n            routerUrl () {\n                return this.$route.path\n            }\n        },\n        methods: {\n            onLoGout (val) {\n                let refreshToken = Cookies.get('refreshToken') // 获取用户登录token\n                let formData =  new URLSearchParams();\n                formData.append('client_id', this.$store.state.clientId);\n                formData.append('grant_type', 'refresh_token');\n                formData.append('refresh_token', refreshToken);\n                if (val == 'logout') {\n                    this.$axios.post('http://u.xlmediawatch.com/auth/realms/xlplatform/protocol/openid-connect/logout',formData,\n                        {headers: {'Content-Type': 'application/x-www-form-urlencoded'}}).then( function(res) {\n                    }).catch(function (error) { // 请求失败处理\n                    });\n                    Cookies.remove('token');\n                    Cookies.remove('routerUrl');\n                    Cookies.remove('refreshToken');\n                    router.push({ path: \"/login\" });\n                }\n            },\n            onSelectClick(record, index) {\n                this.activeName = record.path\n                localStorage.setItem('routerUrl', this.activeName)\n                this.$router.push({\n                    path: record.path\n                })\n            },\n            LoadData () {\n                let token = Cookies.get('token')\n                if (token) {\n                    const decode = jwtDecode(token)\n                    console.log(decode)\n                    let isShow = false\n                    if (decode.resource_access.nlp_web) {\n                        isShow = decode.resource_access.nlp_web.roles[0] == 'develop' ? true : false\n                    }\n                    let navList = [\n                        {name: 'NLP文本分析', path: '/partsAnalysis', isShow: true},\n                        {name: 'NLP文本分析测试', path: '/partsAnalysisTest', isShow: isShow},\n                        {name: 'AI图像识别', path: '/aIRecognition', isShow: true },\n                        {name: '自动清洗', path: '/cleaning', isShow: true},\n                    ]\n                    this.navList = navList\n                    this.userName = decode.name\n                    if (Cookies.get('routerUrl')) {\n                        this.activeName =  Cookies.get('routerUrl');\n                    } else {\n                        Cookies.set('routerUrl', this.activeName)\n                    }\n                } else {\n                    this.$router.push({ path: \"/partsAnalysis\" });\n                }\n\n            }\n        },\n        created() {\n            this.LoadData()\n        },\n\n        mounted() {\n        },\n        updated() {\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .headersCon{\n        /*background-color: #f5f5f5;*/\n        .divider{\n            margin: 0px;\n        }\n    }\n    .headers {\n        background-color: #061840;\n\n        .ivu-menu, .ivu-menu-item {\n            font-size: 16px;\n        }\n\n        .ivu-menu-light {\n            background-color: #fff;\n        }\n\n        .ivu-menu-horizontal {\n            height: 80px;\n            line-height: 80px;\n        }\n\n        .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item-active, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item:hover, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu-active, .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu:hover {\n            color: #12d4c9;\n        }\n\n        .wrapper {\n            height: 80px;\n            align-items: center;\n            .navItem{\n                background-color: #D8D8D8;\n                font-weight: bold;\n                padding: 15px 20px;\n                border-radius: 2px;\n                font-size: 16px;\n                margin: 0 15px;\n                cursor: pointer;\n                color: #323232;\n            }\n            .active{\n                background-color: #12d4c9;\n                color: #fff;\n            }\n            .navItem:hover{\n                background-color: #12d4c9;\n                color: #fff;\n            }\n            .Headers_title {\n                margin-right: 20px;\n                font-weight: 700;\n                font-size: 20px;\n                color: #ffffff;\n            }\n        }\n    }\n</style>\n"]}]}